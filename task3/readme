Чтобы сделать подобное на сервере стоит сделать следующее(на примере aiohttp):
1. В корневом приложении(наследник aiohttp.web.Application) добавить аттрибут TimeStorage.
2. Написать миддлвару, которая после каждого запроса будет писать в лог TimeStorage.get_storage.
3. Оборачивать потенциально проблемные места в контекстный менеджер time_context с передачей туда
объекта TimeStorage и некого имени, идентифицируещего это проблемное место.
4. Начать анализировать логи.

В скрипте показан пример сбора временных метрик.
